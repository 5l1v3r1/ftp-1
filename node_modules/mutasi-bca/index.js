const parser = require('./lib/parser');
const { compile } = require('html-to-text');

const convert = compile({
  wordwrap: 130
});

module.exports = {
  getBalance: async (username, password) => {
    try {
      const IP = await parser.getIP();
      const balance = await parser.balance(username , password);
      return balance;
    } catch (err) {

      throw err;
    }
  },

  getSettlement: async (username, password, tanggalto, bulanto, tanggal, bulan) => {
    try {
      const res = await parser.settlement(username, password);
    
      return JSON.parse(res);
    } catch (err) {
   
      throw err;
    }
  }
};
